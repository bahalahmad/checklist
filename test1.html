<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health Care Infrastructure</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .error {
            color: red;
            font-size: 0.7rem;
        }
    </style>

</head>

<body>
    <div class="bg-white p-4 rounded-lg shadow-md">
        <h3 class="text-2xl font-semibold text-blue-600 mb-4">Obstetrician and Gynecologist</h3>
        <div class="mb-6 grid grid-cols-1 sm:grid-cols-5 gap-4">
            <label for="Regular" class="block text-gray-700 text-lg font-semibold col-span-1">Regular</label>
            <div class="col-span-4 flex flex-col sm:flex-row sm:space-x-4">
                <div class="relative w-full sm:w-1/2 mb-4 sm:mb-0">
                    <input type="number" id="regular-sanctioned"
                        class="peer w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                        placeholder=" " required
                        oninput="validateSanctionedInput('regular-sanctioned', 'regular-available', 0, 150, 'sanctioned-error')">
                    <label for="regular-sanctioned"
                        class="absolute left-3 -top-2 text-sm text-gray-600 bg-white px-1 transition-all peer-placeholder-shown:top-2 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:-top-2 peer-focus:text-sm peer-focus:text-gray-600">Sanctioned</label>
                    <div id="sanctioned-error" class="error"></div>
                </div>
                <div class="relative w-full sm:w-1/2">
                    <input type="number" id="regular-available"
                        class="peer w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                        placeholder=" " required disabled
                        oninput="validateAvailableInput('regular-sanctioned', 'regular-available', 'available-error')">
                    <label for="regular-available"
                        class="absolute left-3 -top-2 text-sm text-gray-600 bg-white px-1 transition-all peer-placeholder-shown:top-2 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:-top-2 peer-focus:text-sm peer-focus:text-gray-600">Available</label>
                    <div id="available-error" class="error"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Reusable Function to validate Sanctioned Input
        function validateSanctionedInput() {
            const sanctionedInput = document.getElementById('regular-sanctioned');
            const availableInput = document.getElementById('regular-available');
            const sanctionedValue = parseInt(sanctionedInput.value, 10);
            const errorMessage = document.getElementById('sanctioned-error');

            if (isNaN(sanctionedValue) || sanctionedValue < 0 || sanctionedValue > 150) {
                errorMessage.textContent = '*Sanctioned value must be between 0 and 150.';
                availableInput.disabled = true;
                availableInput.value = '';
            } else {
                errorMessage.textContent = '';
                availableInput.disabled = sanctionedValue === 0;
            }

            validateAvailableInput();
        }

        function validateAvailableInput() {
            const sanctionedInput = document.getElementById('regular-sanctioned');
            const availableInput = document.getElementById('regular-available');
            const availableValue = parseInt(availableInput.value, 10);
            const sanctionedValue = parseInt(sanctionedInput.value, 10);
            const errorMessage = document.getElementById('available-error');

            if (!isNaN(sanctionedValue) && sanctionedValue > 0 && (isNaN(availableValue) || availableValue < 0 || availableValue > sanctionedValue)) {
                errorMessage.textContent = '*Available value must be between 0 and the Sanctioned value.';
            } else {
                errorMessage.textContent = '';
            }
        }
    </script>
</body>

</html>
<!-- <div class="mb-6 grid grid-cols-1 sm:grid-cols-5 gap-4">
//         <label for="Contractual"
//             class="block text-gray-700 text-lg font-semibold col-span-1">Contractual</label>
//         <div class="col-span-4 flex flex-col sm:flex-row sm:space-x-4">
//             <div class="relative w-full sm:w-1/2 mb-4 sm:mb-0">
//                 <input type="number" id="contractual-ASHAs-sanctioned"
//                     class="peer w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
//                     placeholder=" " required>
//                 <label for="contractual-ASHAs-sanctioned"
//                     class="absolute left-3 -top-2 text-sm text-gray-600 bg-white px-1 transition-all peer-placeholder-shown:top-2 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:-top-2 peer-focus:text-sm peer-focus:text-gray-600">
//                     Sanctioned
//                 </label>
//             </div>
//             <div class="relative w-full sm:w-1/2">
//                 <input type="number" id="contractual-ASHAs-available"
//                     class="peer w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
//                     placeholder=" " required>
//                 <label for="contractual-ASHAs-available"
//                     class="absolute left-3 -top-2 text-sm text-gray-600 bg-white px-1 transition-all peer-placeholder-shown:top-2 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:-top-2 peer-focus:text-sm peer-focus:text-gray-600">
//                     Available
//                 </label>
//             </div>
//         </div>
//     </div>


    
//     <script>document.addEventListener("DOMContentLoaded", function() {
//         document.getElementById('saveButton').addEventListener('click', function(event) {
//             event.preventDefault();
//             let isValid = true;
//             const medicalSanction = document.getElementById("medical_sanction");
//             const medicalFunctional = document.getElementById("medical_functional");
//             const medicalNonFunctional = document.getElementById("medical_non_functional");
//             const medicalSanctionError = document.getElementById("medical_sanction_error");
//             const medicalFunctionalError = document.getElementById("medical_functional_error");
//             // Reset error messages
//             medicalSanctionError.textContent = "";
//             medicalFunctionalError.textContent = "";
//             const sanctionedValue = parseInt(medicalSanction.value, 10);
//             const functionalValue = parseInt(medicalFunctional.value, 10);
//             // Validate Sanctioned input
//             if (isNaN(sanctionedValue) || sanctionedValue < 0 || sanctionedValue > 20) {
//                 medicalSanctionError.textContent = "Sanctioned value should be a number between 0 and 20.";
//                 isValid = false;
//             }
//             // Validate Functional input
//             if (sanctionedValue > 0) {
//                 if (isNaN(functionalValue) || functionalValue < 0 || functionalValue > sanctionedValue) {
//                     medicalFunctionalError.textContent = "Functional value should be a number between 0 and the sanctioned value.";
//                     isValid = false;
//                 }
//             // Calculate Non-Functional value
//             if (isValid) {
//                 const nonFunctionalValue = sanctionedValue - functionalValue;
//                 medicalNonFunctional.value = nonFunctionalValue >= 0 ? nonFunctionalValue : 0;
//                 alert('Form is valid and ready to be saved.');
//             } else {
//                 alert('Please correct the errors in the form.');
//         });
//         // Add input event listeners to update Non-Functional value in real-time
//         document.getElementById("medical_sanction").addEventListener("input", updateNonFunctional);
//         document.getElementById("medical_functional").addEventListener("input", updateNonFunctional);
//         function updateNonFunctional() {
//             if (!isNaN(sanctionedValue) && !isNaN(functionalValue)) {
//         }
//     }); -->
<!-- //     </script>
// </body>
// </html> -->


<h1>NQAS Certification Form</h1>
<form id="nqasForm">
    <label for="nqasIdentified">Has the block identified the facilities for NQAS certification?</label>
    <input type="radio" name="nqasIdentified" id="yes" value="yes" required> Yes
    <input type="radio" name="nqasIdentified" id="no" value="no" required> No
    
    <div id="nqasDetails" style="display: none;">
        <label for="phc">No. of PHC Identified for NQAS certification (0-50):</label>
        <input type="number" id="phc" name="phc" oninput="validateNumberRange('phc', 0, 50)" required>
        <div id="phc_error" class="error"></div>

        <label for="chc">No. of CHC Identified for NQAS certification (0-25):</label>
        <input type="number" id="chc" name="chc" oninput="validateNumberRange('chc', 0, 25)" required>
        <div id="chc_error" class="error"></div>

        <label for="sc">No. of SC Identified for NQAS certification (0-100):</label>
        <input type="number" id="sc" name="sc" oninput="validateNumberRange('sc', 0, 100)" required>
        <div id="sc_error" class="error"></div>

        <label for="total">Total Number of facilities identified for NQAS certification:</label>
        <input type="number" id="total" name="total" readonly>
    </div>
    
    <div id="errorMessage">Please ensure all values are valid.</div>
    <button type="submit">Submit</button>
</form>